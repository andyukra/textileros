function v(i,f){const c='a[href], button, input, textarea, select, details, [tabindex]:not([tabindex="-1"])';let t,o;function a(e){e.shiftKey&&e.code==="Tab"&&(e.preventDefault(),o.focus())}function l(e){!e.shiftKey&&e.code==="Tab"&&(e.preventDefault(),t.focus())}const s=e=>{if(f===!1)return;const n=Array.from(i.querySelectorAll(c));n.length&&(t=n[0],o=n[n.length-1],e||t.focus(),t.addEventListener("keydown",a),o.addEventListener("keydown",l))};s(!1);function r(){t&&t.removeEventListener("keydown",a),o&&o.removeEventListener("keydown",l)}const d=(e,n)=>(e.length&&(r(),s(!0)),n),u=new MutationObserver(d);return u.observe(i,{childList:!0,subtree:!0}),{update(e){f=e,e?s(!1):r()},destroy(){r(),u.disconnect()}}}export{v as f};
